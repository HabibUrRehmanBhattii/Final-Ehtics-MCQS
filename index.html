<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLQP & WFG Exam Prep</title>
    <meta name="theme-color" content="#0f172a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="LLQP Prep">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="LLQP & WFG Exam Prep">
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="icon" href="assets/icons/icon-192.svg" type="image/svg+xml" sizes="192x192">
    <link rel="apple-touch-icon" href="assets/icons/icon-180.svg" sizes="180x180">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="app">

        <!-- HOME VIEW -->
        <div id="home-view" class="view active">
            <header class="hero">
                <div class="hero-inner">
                    <button id="dark-mode-toggle" class="dm-toggle" aria-label="Toggle dark mode">&#x1F319;</button>
                    <h1 class="hero-title">&#x1F4DA; LLQP & WFG Exam Prep</h1>
                    <p class="hero-sub">Interactive MCQ Practice Platform</p>
                </div>
            </header>
            <main class="wrap">
                <div class="section-label">Select a Topic to Begin</div>
                <div id="wrong-questions-section" class="wrong-wrap">
                    <div class="wrong-card" onclick="MCQApp.startWrongQuestionsReview()">
                        <span class="wrong-icon">&#x274C;</span>
                        <div class="wrong-info">
                            <strong>Review Wrong Answers</strong>
                            <span class="wrong-count"><span id="wrong-count-badge">0</span> to review</span>
                        </div>
                        <span class="wrong-arrow">&#x2192;</span>
                    </div>
                </div>
                <div id="topics-grid" class="grid"></div>
            </main>
            <footer class="foot">&copy; 2026 LLQP & WFG Exam Prep</footer>
        </div>

        <!-- PRACTICE TEST VIEW -->
        <div id="practice-test-view" class="view">
            <header class="topbar">
                <button id="back-to-topics-btn" class="btn-ghost">&#x2190; Back</button>
                <h2 id="practice-topic-title" class="topbar-title">Tests</h2>
                <div id="practice-topic-icon" class="topbar-icon">&#x1F4DA;</div>
            </header>
            <main class="wrap">
                <p class="muted-text" id="practice-description"></p>
                <div id="practice-tests-grid" class="grid"></div>
            </main>
        </div>

        <!-- MCQ VIEW -->
        <div id="mcq-view" class="view">
            <header class="topbar">
                <button id="back-btn" class="btn-ghost">&#x2190; Back</button>
                <h2 id="topic-title" class="topbar-title">Topic</h2>
                <div id="progress-indicator" class="pill"><span id="current-question-num">1</span>/<span id="total-questions">10</span></div>
            </header>
            <div class="progress-track"><div id="progress-fill" class="progress-fill" style="width:0%"></div></div>
            <main class="wrap">
                <nav class="q-nav">
                    <button id="prev-question-btn" class="btn-dot-nav" disabled>&#x2039;</button>
                    <div class="q-dots" id="question-dots"></div>
                    <button id="next-question-btn" class="btn-dot-nav">&#x203A;</button>
                </nav>
                <article class="card">
                    <div class="card-head">
                        <span class="q-badge">Question <span id="q-num">1</span></span>
                        <div class="card-actions">
                            <button id="read-question-btn" class="btn-tts" aria-label="Read question" aria-pressed="false">&#x1F50A; Read</button>
                            <button id="bookmark-btn" class="btn-star" aria-label="Bookmark">&#x2606;</button>
                        </div>
                    </div>
                    <div class="q-text" id="question-text"></div>
                    <div class="opts" id="options-container"></div>
                    <div id="answer-section" class="answer-box hidden">
                        <div class="answer-correct">&#x2713; Correct Answer: <span id="correct-answer-text"></span></div>
                        
                        <!-- Next Question Button (before explanation) -->
                        <div style="margin: 1rem 0; text-align: center;">
                            <button id="next-question-btn-top" class="btn-primary hidden" style="padding: 0.75rem 2rem; font-size: 1rem;">
                                Next Question &#x203A;
                            </button>
                        </div>
                        
                        <div class="explain-box">
                            <div class="explain-label">&#x1F4DD; Explanation</div>
                            <div id="explanation-text" class="explain-body"></div>
                        </div>
                        <div class="ai-box">
                            <button id="get-ai-explanation-btn" class="btn-ai" onclick="MCQApp.generateAIExplanation()" style="display:none;">&#x1F916; Get AI Explanation</button>
                            <div id="ai-explanation-text"></div>
                        </div>
                        <button id="hide-answer-btn" class="btn-outline">Hide Answer</button>
                    </div>
                </article>
                <!-- Finish Banner (shown when all questions answered) -->
                <div id="finish-banner" class="finish-banner hidden">
                    <div class="finish-icon">&#x1F389;</div>
                    <h3 class="finish-title">Test Complete!</h3>
                    <div class="finish-score">
                        <span id="finish-correct">0</span> / <span id="finish-total">0</span> correct on first try
                    </div>
                    <div class="finish-percent" id="finish-percent">0%</div>
                    <div class="finish-actions">
                        <button id="finish-home-btn" class="btn-finish">&#x1F3E0; Main Menu</button>
                        <button id="finish-tests-btn" class="btn-finish btn-finish-alt">&#x1F4CB; Back to Tests</button>
                        <button id="finish-retry-btn" class="btn-finish btn-finish-alt">&#x1F504; Retry Test</button>
                    </div>
                </div>

                <div class="actions">
                    <button id="show-all-btn" class="btn-outline">Show All</button>
                    <button id="bookmarked-only-btn" class="btn-outline">&#x1F4CC; Bookmarked</button>
                    <button id="reset-progress-btn" class="btn-outline">Reset</button>
                    <button id="clear-wrong-btn" class="btn-outline">Clear Wrong</button>
                </div>
            </main>
        </div>

        <!-- LIST VIEW -->
        <div id="list-view" class="view">
            <header class="topbar">
                <button id="back-to-mcq-btn" class="btn-ghost">&#x2190; Back</button>
                <h2 id="list-topic-title" class="topbar-title">All Questions</h2>
                <div></div>
            </header>
            <main class="wrap">
                <div id="questions-list" class="q-list"></div>
            </main>
        </div>

    </div>
    <script src="js/app.js"></script>
</body>
</html>
